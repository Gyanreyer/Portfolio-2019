'use strict';var scrollData={scrolling:!1,startPos:0,targetPos:0,startTime:0,duration:400},scrollToPos=function(a){var b=Math.min((a-scrollData.startTime)/scrollData.duration,1);return 1<=b?(scrollTo(0,scrollData.targetPos),void(scrollData.scrolling=!1)):void(window.scrollTo(0,scrollData.startPos+b*(scrollData.targetPos-scrollData.startPos)),window.requestAnimationFrame(function(a){scrollToPos(a)}))},scrollToContacts=function(a){a.preventDefault(),window.requestAnimationFrame(function(a){scrollData.scrolling||(scrollData.scrolling=!0,scrollData.startTime=a,scrollData.startPos=window.pageYOffset,scrollData.targetPos=Math.min(document.getElementById('contact').getBoundingClientRect().top,document.body.scrollHeight-window.innerHeight),scrollToPos(a))})},formErrors=!1,onInputBlur=function(){for(var a=this.querySelector('.input'),b=a.value.trim(),c=!0,d=0;d<arguments.length;d++)if(!arguments[d](b)){c=!1;break}a.setAttribute('valid',c),this.querySelector('label').style.color=c?'white':'#e74433'},validateEmpty=function(a){return 0<a.length},validateEmail=function(a){return /^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(a)},showSubmitMessage=function(a,b){var c=document.getElementById('afterSubmit'),d=c.querySelector('div');d.innerText=a,c.style.backgroundColor=b?'#5A8':'#E74433',c.style.maxHeight=d.clientHeight,c.style.marginBottom='2%',setTimeout(function(){c.style.maxHeight=0,c.style.marginBottom=0},7e3)},submitForm=function(a){a.preventDefault();for(var b=document.querySelectorAll('.input'),c=!1,d=0;d<b.length;d++)b[d].onblur(),'false'===b[d].getAttribute('valid')&&(c=!0);if(c)return void showSubmitMessage('Oops. The form hasn\'t been filled out correctly, please review and try again.',!1);for(var e=new XMLHttpRequest,f='',d=0;d<b.length;d++)f+=''+(0<d?'&':'')+b[d].name+'='+b[d].value;e.open('POST','/contact',!0),e.responseType='json',e.setRequestHeader('Content-type','application/x-www-form-urlencoded'),e.onload=function(){showSubmitMessage(e.response.message,200===e.status)},e.send(f)};window.onload=function(){document.getElementById('contact-button').addEventListener('click',scrollToContacts);var a=document.getElementById('nameSection');a.querySelector('.input').onblur=function(){return onInputBlur.call(a,validateEmpty)};var b=document.getElementById('emailSection');b.querySelector('.input').onblur=function(){return onInputBlur.call(b,validateEmpty,validateEmail)};var c=document.getElementById('messageSection');c.querySelector('.input').onblur=function(){return onInputBlur.call(c,validateEmpty)},document.getElementById('contact-form').onsubmit=submitForm};